autoload -U compinit
compinit

#path
export PATH=$HOME/.bin/:/usr/local/bin:$HOME/.rbenv/bin:$PATH

#env vars
export EDITOR=vim
export GREP_OPTIONS='--color'
export BROWSER=google-chrome

#options
set -o emacs
setopt EXTENDED_HISTORY # add timestamps to history
setopt LOCAL_OPTIONS # allow functions to have local options
setopt LOCAL_TRAPS # allow functions to have local traps
setopt PROMPT_SUBST
setopt COMPLETE_IN_WORD
setopt IGNORE_EOF
setopt AUTO_CD
setopt HIST_IGNORE_DUPS
setopt APPEND_HISTORY # adds history
setopt INC_APPEND_HISTORY SHARE_HISTORY  # adds history incrementally and share it across sessions
setopt HIST_IGNORE_ALL_DUPS  # don't record dupes in history
setopt HIST_REDUCE_BLANKS

#completion
zstyle ':completion::complete:*' use-cache 1
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}' # case insensitive completion
zstyle ':completion:*:default' menu 'select=0' # menu-style

autoload edit-command-line
zle -N edit-command-line
bindkey '^X^e' edit-command-line

#ec2
if [ -f ~/bt/system-scripts/pairing_stations/ec2env ]; then
  export SYSTEM_SCRIPTS=~/bt/system-scripts
  source ~/bt/system-scripts/pairing_stations/ec2env
fi

#rbenv
eval "$(rbenv init -)"

#java
export JUNIT_HOME="/Developer/junit4.10"
export PATH=$PATH:$JUNIT_HOME
export CLASSPATH="$CLASSPATH:$JUNIT_HOME/junit-4.10.jar:$JUNIT_HOME"

#cd path
export CDPATH=.:~

export GREP_OPTIONS='--color'
export LSCOLORS=ExFxCxDxBxegedabagacad

# C-d to exit
exit_shell() {
  exit
}

zle -N exit_shell
bindkey "^d" exit_shell
